<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>2026 é©¬æ¥è¥¿äºšä¹‹è¡Œ ğŸ‡²ğŸ‡¾</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF7043;
            --secondary: #4FC3F7;
            --white: #ffffff;
            --bg: #f8fbff;
        }

        body, html {
            margin: 0; padding: 0;
            height: 100%; width: 100%;
            font-family: 'ZCOOL XiaoWei', cursive, sans-serif;
            background: var(--bg);
            overflow: hidden; /* é˜²æ­¢æ•´ä½“æ»šåŠ¨ */
        }

        /* é¡¶éƒ¨æ ‡é¢˜åŒº */
        header {
            height: 60px;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 2px solid #eee;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            position: relative;
            z-index: 1001;
        }

        header h1 { margin: 0; font-size: 1.2rem; color: var(--primary); }

        /* åœ°å›¾å®¹å™¨ - å…¨å±èƒŒæ™¯ä½†ç•™å‡ºåº•éƒ¨ */
        #map {
            height: 50vh;
            width: 100vw;
            z-index: 1;
        }

        /* ä¸‹æ–¹æ»‘åŠ¨è¡Œç¨‹åŒº */
        .scroller {
            height: 50vh;
            overflow-y: auto;
            background: var(--white);
            padding: 20px;
            box-sizing: border-box;
            border-top-left-radius: 30px;
            border-top-right-radius: 30px;
            margin-top: -30px;
            position: relative;
            z-index: 1000;
            box-shadow: 0 -10px 20px rgba(0,0,0,0.05);
            -webkit-overflow-scrolling: touch;
        }

        .handle {
            width: 40px;
            height: 5px;
            background: #ddd;
            border-radius: 5px;
            margin: -10px auto 15px auto;
        }

        .trip-card {
            background: #fff;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 20px;
            border: 2px solid #f0f0f0;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }

        .trip-card:active {
            background: #f0f9ff;
            border-color: var(--secondary);
        }

        .card-icon {
            font-size: 28px;
            margin-right: 15px;
            background: var(--bg);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 15px;
        }

        .card-info { flex: 1; }

        .card-date {
            font-size: 11px;
            color: #999;
            text-transform: uppercase;
        }

        .card-title {
            display: block;
            font-weight: bold;
            font-size: 16px;
            color: #333;
        }

        .card-note {
            font-size: 13px;
            color: #666;
            margin-top: 2px;
        }

        /* è·³åŠ¨çš„è‡ªå®šä¹‰åœ°å›¾å›¾æ ‡ */
        .marker-emoji {
            font-size: 24px;
            text-align: center;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-7px); }
        }

        .custom-div-icon { background:transparent; border:none; }
    </style>
</head>
<body>

    <header>
        <h1>âœˆï¸ 2026 é©¬æ¥è¥¿äºšä¹‹è¡Œ</h1>
    </header>

    <div id="map"></div>

    <div class="scroller">
        <div class="handle"></div>
        <div id="card-list"></div>
        <div style="text-align:center; padding: 20px; color: #ccc; font-size: 12px;">
            OpenClaw | ç¥ä½ æ—…é€”æ„‰å¿« âœ¨
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const tripData = [
            { pos: [3.1319, 101.6841], title: "å‰éš†å¡ï¼šè±æ©é…’åº—", date: "2/12 - 2/13", emoji: "ğŸ¨", note: "å…¥ä½ Lion Hotel" },
            { pos: [5.4141, 100.3288], title: "æ§ŸåŸï¼šæ·±åº¦æ¼«æ¸¸", date: "2/13 - 2/17", emoji: "ğŸœ", note: "å¤è¿¹åŒºæ°‘å®¿ & ç¾é£Ÿ" },
            { pos: [3.1390, 101.6869], title: "å‰éš†å¡ï¼šè¿”å›ä¸­è½¬", date: "2/17 08:30", emoji: "ğŸšŒ", note: "å¤§å·´è¿”å›å‰éš†å¡" },
            { pos: [3.1588, 101.7140], title: "å‰éš†å¡ï¼šå¥¥å˜‰å¾·é…’åº—", date: "2/17 - 2/18", emoji: "ğŸ¢", note: "å…¥ä½ Agode Hotel" },
            { pos: [2.1896, 102.2501], title: "é©¬å…­ç”²ï¼šå¤åŸä¸€æ—¥", date: "2/18", emoji: "ğŸ›ï¸", note: "å†å²é—è¿¹æ¢ç´¢" },
            { pos: [3.1319, 101.6841], title: "å‰éš†å¡ï¼šèµ·é£å›å®¶", date: "2/19 04:35", emoji: "ğŸ›«", note: "KLIA é£å¾€é’å²›" }
        ];

        // åˆå§‹åŒ–åœ°å›¾
        var map = L.map('map', {
            zoomControl: false,
            attributionControl: false,
            dragging: true,
            touchZoom: true
        }).setView([4.21, 101.9], 7);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png').addTo(map);

        const listContainer = document.getElementById('card-list');
        const markers = [];

        tripData.forEach((item, index) => {
            // æ·»åŠ åˆ—è¡¨å¡ç‰‡
            const card = document.createElement('div');
            card.className = 'trip-card';
            card.innerHTML = `
                <div class="card-icon">${item.emoji}</div>
                <div class="card-info">
                    <span class="card-date">${item.date}</span>
                    <span class="card-title">${item.title}</span>
                    <div class="card-note">${item.note}</div>
                </div>
            `;
            // ç‚¹å‡»å¡ç‰‡è”åŠ¨åœ°å›¾
            card.onclick = () => {
                map.flyTo(item.pos, 13, { duration: 1.5 });
            };
            listContainer.appendChild(card);

            // æ·»åŠ åœ°å›¾æ ‡è®°
            const icon = L.divIcon({
                className: 'custom-div-icon',
                html: `<div class="marker-emoji">${item.emoji}</div>`,
                iconSize: [30, 30]
            });

            const m = L.marker(item.pos, {icon: icon}).addTo(map);
            markers.push(m);
        });

        // ç»˜åˆ¶è½¨è¿¹çº¿
        const pathLine = L.polyline(tripData.map(d => d.pos), {
            color: '#FF7043',
            weight: 3,
            dashArray: '8, 8',
            opacity: 0.6
        }).addTo(map);

        // è‡ªåŠ¨é€‚é…å¤§é©¬èŒƒå›´
        map.fitBounds(pathLine.getBounds(), { padding: [50, 50] });

    </script>
</body>
</html>
