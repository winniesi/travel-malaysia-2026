<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 é©¬æ¥è¥¿äºšå¡é€šåœ°å›¾è¡Œç¨‹å• ğŸ—ºï¸âœ¨</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF7043;
            --secondary: #4FC3F7;
            --bg: #F0F9FF;
            --text: #5D4037;
        }

        body, html {
            margin: 0; padding: 0;
            height: 100%; width: 100%;
            font-family: 'ZCOOL XiaoWei', cursive, sans-serif;
            background: var(--bg);
        }

        #map {
            height: 100vh;
            width: 100vw;
            z-index: 1;
        }

        /* æµ®åŠ¨æ ‡é¢˜æ  */
        .header-panel {
            position: absolute;
            top: 20px; left: 20px;
            z-index: 1000;
            background: white;
            padding: 15px 25px;
            border-radius: 25px;
            border: 4px solid var(--secondary);
            box-shadow: 6px 6px 0px rgba(79, 195, 247, 0.3);
        }

        h1 { margin:0; font-size: 1.5rem; color: var(--primary); }

        /* ä¾§è¾¹è¡Œç¨‹æ  */
        .info-panel {
            position: absolute;
            bottom: 20px; right: 20px;
            width: 280px;
            max-height: 60vh;
            overflow-y: auto;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 30px;
            border: 3px solid var(--primary);
            backdrop-filter: blur(5px);
        }

        .scroll-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ccc;
        }

        .scroll-item:last-child { border: none; }

        .date-tag {
            background: var(--secondary);
            color: white;
            padding: 2px 10px;
            border-radius: 10px;
            font-size: 12px;
        }

        .item-title {
            display: block;
            font-weight: bold;
            margin-top: 5px;
            font-size: 16px;
        }

        /* åœ°å›¾è‡ªå®šä¹‰å›¾æ ‡ */
        .custom-div-icon {
            background: transparent;
            border: none;
        }

        .marker-emoji {
            font-size: 32px;
            text-shadow: 2px 2px 0px white;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 600px) {
            .header-panel { width: 80%; left: 5%; top: 10px; text-align: center; }
            .info-panel { width: 90%; left: 5%; bottom: 10px; right: auto; padding: 15px; }
        }
    </style>
</head>
<body>

    <div class="header-panel">
        <h1>ğŸ‡²ğŸ‡¾ 2026 é©¬æ¥è¥¿äºšä¹‹è¡Œ</h1>
        <small>é’å²› å‡ºå‘ Â· å¡é€šåœ°å›¾ç‰ˆ âœ¨</small>
    </div>

    <div class="info-panel" id="itinerary">
        <!-- å†…å®¹ç”± JS åŠ¨æ€ç”Ÿæˆ -->
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // åˆå§‹åŒ–åœ°å›¾ èšç„¦é©¬æ¥è¥¿äºš
        var map = L.map('map', {
            center: [4.2105, 101.9758], // é©¬æ¥è¥¿äºšä¸­å¿ƒç‚¹
            zoom: 7,
            zoomControl: false
        });

        // ä½¿ç”¨å¡é€šæ˜å¿«çš„åº•å›¾
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
            attribution: 'OpenClaw âœ¨'
        }).addTo(map);

        const tripData = [
            { id: 1, pos: [36.0671, 120.3826], title: "é’å²›å‡ºå‘", date: "2æœˆ11æ—¥ 21:15", emoji: "âœˆï¸", note: "èµ·é£ï¼è¶Šè¿‡æ˜Ÿç©ºé£å‘çƒ­å¸¦ã€‚" },
            { id: 2, pos: [3.1319, 101.6841], title: "å‰éš†å¡ï¼šè±æ©é…’åº—", date: "2æœˆ12-13æ—¥", emoji: "ğŸ¨", note: "Lion Hotel æ¥é£æ´—å°˜ã€‚" },
            { id: 3, pos: [5.4141, 100.3288], title: "æ§ŸåŸï¼šæ·±åº¦æ¸¸", date: "2æœˆ13-17æ—¥", emoji: "ğŸœ", note: "å…¥ä½æ§ŸåŸæ°‘å®¿ï¼Œæ¼«æ­¥è€è¡—ã€‚" },
            { id: 4, pos: [3.15, 101.71], title: "å‰éš†å¡ï¼šå¥¥å˜‰å¾·é…’åº—", date: "2æœˆ17-18æ—¥", emoji: "ğŸ¢", note: "å…¥ä½ Agode Hotelï¼Œè´­ç‰©èµ°èµ·ã€‚" },
            { id: 5, pos: [2.1896, 102.2501], title: "é©¬å…­ç”²ï¼šå†å²åŸ", date: "2æœˆ18æ—¥", emoji: "ğŸ›ï¸", note: "åŒ…è½¦å—ä¸‹ï¼Œå¯»è®¿çº¢å±‹ã€‚" },
            { id: 6, pos: [3.1319, 101.6841], title: "å‰éš†å¡è¿”ç¨‹", date: "2æœˆ19æ—¥ 04:35", emoji: "ğŸ›«", note: "æ»¡è½½å—æ´‹å›å¿†é£å›é’å²›ã€‚" }
        ];

        // æ¸²æŸ“è¡Œç¨‹åˆ—è¡¨
        const listDiv = document.getElementById('itinerary');
        tripData.forEach(item => {
            const div = document.createElement('div');
            div.className = 'scroll-item';
            div.innerHTML = `
                <span class="date-tag">${item.date}</span>
                <span class="item-title">${item.emoji} ${item.title}</span>
                <small style="color:#666">${item.note}</small>
            `;
            listDiv.appendChild(div);

            // æ·»åŠ åœ°å›¾æ ‡æ³¨
            const icon = L.divIcon({
                className: 'custom-div-icon',
                html: `<div class="marker-emoji">${item.emoji}</div>`,
                iconSize: [40, 40],
                iconAnchor: [20, 20]
            });

            L.marker(item.pos, {icon: icon}).addTo(map)
             .bindPopup(`<b>${item.title}</b><br>${item.date}<br>${item.note}`);
        });

        // ç»˜åˆ¶è¡Œç¨‹è·¯çº¿ (è™šçº¿)
        const lineStyles = { color: '#FF7043', weight: 4, dashArray: '10, 10', opacity: 0.8 };
        
        // ç”±äºè·¨åº¦è¾ƒå¤§ï¼Œæˆ‘ä»¬åªè¿æ¥é©¬æ¥è¥¿äºšå¢ƒå†…çš„æ ¸å¿ƒç‚¹å±•ç¤ºç»†èŠ‚
        const myPath = [
            [3.1319, 101.6841], // KL
            [5.4141, 100.3288], // Penang
            [3.1319, 101.6841], // KL
            [2.1896, 102.2501], // Malacca
            [3.1319, 101.6841]  // KL Back
        ];
        L.polyline(myPath, lineStyles).addTo(map);

        // ä¸ºäº†ç¾è§‚ï¼Œæˆ‘ä»¬è‡ªåŠ¨ç”±äºé‡ç‚¹çœ‹å¤§é©¬ï¼Œè‡ªåŠ¨ç¼©æ”¾è‡³å¤§é©¬èŒƒå›´
        map.fitBounds([
            [2.18, 100.32],
            [5.42, 102.25]
        ], { padding: [50, 50] });

    </script>
</body>
</html>
